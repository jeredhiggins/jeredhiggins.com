---
import { Picture } from 'astro:assets';
import MainLayout from '../layouts/MainLayout.astro';
import { getCollection } from 'astro:content';
import Avatar from '../assets/images/jered_higgins.jpg';
import BlogPostCard from '../components/BlogPostCard.astro';
import EmailRevealButton from '../components/EmailRevealButton.jsx';


const allBlogPosts = await getCollection('posts');
const sortedPosts = allBlogPosts.sort(
    (a, b) => Number(new Date(b.data.date)) - Number(new Date(a.data.date))
);

const colors = [
    'from-[#f297cb] via-[#fbd266] to-[#5a9692]',
    'from-[#d76735] via-[#fbd266] to-[#6270f3]',
    'from-[#61cf5a] via-[#fbd266] to-[#8cf2f1]',
];
---

<MainLayout>
    <div
        class='flex flex-col justify-center items-start max-w-2xl border-gray-200 dark:border-gray-700 mx-auto pb-16'
    >
        <div class='flex flex-col-reverse sm:flex-row items-start'>
            <div class='flex flex-col pr-8'>
                <h1
                    class='font-bold text-3xl md:text-5xl tracking-tight mb-1 text-black dark:text-white'
                    transition:name='heading'
                >
                    Jered Higgins
                </h1>
                <h2 class='text-gray-700 dark:text-gray-200 mb-5'>
                    SEO, writer, artist, smooth computer operator ü§ì
                </h2>
                <p class='text-gray-600 dark:text-gray-300 text-1xl md:text-2xl mb-16'>
                    Technical SEO with 15+ years experience. I make Python üêç SEO Tools and offer Technical SEO consulting/services.
                </p>
            </div>
            <div class='w-[80px] sm:w-[176px] relative mb-8 sm:mb-0 mr-auto'>
                <Picture
                    src={Avatar}
                    class='rounded-lg'
                    alt='Jered Higgins'
                    formats={['avif', 'webp']}
                />
            </div>
        </div>
        <h3
            class='font-bold text-2xl md:text-4xl tracking-tight mb-6 text-purple-500 dark:text-purple-400 py-5'
        >
            Recent Posts
        </h3>
        <div class='flex gap-6 flex-col md:flex-row'>
            {
                sortedPosts.slice(0, 3).map((post, key) => {
                    return (
                        <BlogPostCard
                            title={post.data.title}
                            slug={post.slug}
                            gradient={colors[key]}
                        />
                    );
                })
            }
        </div>
        <a
            href='/writing'
            class='flex items-center mt-8 text-gray-600 dark:text-gray-400 leading-7 rounded-lg hover:text-gray-800 dark:hover:text-orange-300 transition-all h-6'
        >
            <>
                {'Read all posts'}
                <svg
                    xmlns='http://www.w3.org/2000/svg'
                    fill='none'
                    viewBox='0 0 24 24'
                    class='h-6 w-6 ml-1'
                >
                    <path
                        stroke='currentColor'
                        stroke-linecap='round'
                        stroke-linejoin='round'
                        stroke-width={2}
                        d='M17.5 12h-15m11.667-4l3.333 4-3.333-4zm3.333 4l-3.333 4 3.333-4z'
                    ></path>
                </svg>
            </>
        </a>
        <h3
            class='mb-4 text-2xl font-bold tracking-tight text-black md:text-3xl dark:text-white pt-20 '
        >
            Contact
        </h3>
        <div
            class='grid w-full grid-cols-1 gap-4 my-2 mt-4 sm:grid-cols-2 mb-8'
        >
            <a
                href='https://www.linkedin.com/in/jeredhiggins'
                class='transform hover:scale-[1.01] transition-all border-4 dark:border-gray-800 rounded p-4 w-full bg-white dark:bg-gray-900'
                target='_blank'
                rel='noopener noreferrer'
            >
                <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='2em'
                    height='2em'
                    aria-label='LinkedIn'
                    viewBox='0 0 24 24'
                >
                    <path
                        fill='none'
                        stroke='currentColor'
                        stroke-linecap='round'
                        stroke-linejoin='round'
                        stroke-width='1.4'
                        d='M0 0v24h24v-24h-24zm8 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.397-2.586 7-2.777 7 2.476v6.759z'
                    ></path>
                </svg>
    
                <h3
                    class='text-lg font-bold text-left mt-2 text-gray-900 dark:text-gray-100'
                >
                    LinkedIn
                </h3>
                <p class='mt-1 text-green-700 dark:text-green-300'>
                    Follow me on LinkedIn 
                </p>
            </a>
            <a
                href='https://github.com/jeredhiggins'
                class='transform hover:scale-[1.01] transition-all border-4 dark:border-gray-800 rounded p-4 w-full bg-white dark:bg-gray-900'
                target='_blank'
                rel='noopener noreferrer'
            >
                <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='2em'
                    height='2em'
                    viewBox='0 0 24 24'
                    aria-label='Github'
                >
                    <path
                        fill='currentColor'
                        d='M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2'
                    ></path>
                </svg>
                <h3
                    class='text-lg font-bold text-left mt-2 text-gray-900 dark:text-gray-100'
                >
                    Github
                </h3>
                <p class='mt-1 text-orange-700 dark:text-orange-300'>
                    Check out my github
                </p>
            </a>
            <a
                href='https://twitter.com/JeredHiggins'
                class='transform hover:scale-[1.01] transition-all border-4 dark:border-gray-800 rounded p-4 w-full bg-white dark:bg-gray-900'
                target='_blank'
                rel='noopener noreferrer'
            >
                <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='2em'
                    height='2em'
                    viewBox='0 0 24 24'
                >
                    <path
                        fill='currentColor'
                        d='M18.205 2.25h3.308l-7.227 8.26l8.502 11.24H16.13l-5.214-6.817L4.95 21.75H1.64l7.73-8.835L1.215 2.25H8.04l4.713 6.231zm-1.161 17.52h1.833L7.045 4.126H5.078z'
                    ></path>
                </svg>
                <h3
                    class='text-lg font-bold text-left mt-2 text-gray-900 dark:text-gray-100'
                >
                    Twitter
                </h3>
                <p class='mt-1 text-purple-700 dark:text-purple-400'>
                    Reach out to me on Twitter
                </p>
            </a>
            <div
                class='transform hover:scale-[1.01] transition-all border-4 dark:border-gray-800 rounded p-4 w-full bg-white dark:bg-gray-900'
            >
                <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='2em'
                    height='2em'
                    viewBox='0 0 24 24'
                >
                    <path
                        fill='currentColor'
                        d='M0 3v18h24v-18h-24zm6.623 7.929l-4.623 5.712v-9.458l4.623 3.746zm-4.141-5.929h19.035l-9.517 7.713-9.518-7.713zm5.694 7.188l3.824 3.099 3.83-3.104 5.612 6.817h-18.779l5.513-6.812zm9.208-1.264l4.616-3.741v9.348l-4.616-5.607z'
                    ></path>
                </svg>
                <h3
                    class='text-lg font-bold text-left mt-2 text-gray-900 dark:text-gray-100'
                >
                    Email
                </h3>
                <p class='mt-1 text-purple-700 dark:text-purple-400'>
                    <div id="email-reveal-container">
                        <EmailRevealButton client:load />
                      </div>
                </p>
                
        </div>
        
    </div>
</MainLayout>